

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>2.1. Data Preperation for Training and Inference &mdash; BRAILS 2.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
        <script src="../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2.2. Modules" href="modules/modules.html" />
    <link rel="prev" title="2. User Guide" href="userGuide.html" />
<script src="https://cdn.jsdelivr.net/npm/vega@5.12.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.13.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.8.0"></script>
<style media="screen">.vega-actions a {margin-right: 5px;}</style>
<link href="../../_static/css/bootstrap.css" rel="stylesheet">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F2F2F2" >
          
<a href="https://simcenter.designsafe-ci.org/" style="margin-bottom: 0px;">
  <img src="../../_static/SimCenter_logo.png" class="logo" alt="Org-Logo" />
</a>
<hr style="margin: 0px;">

  <a href="../../index.html">


  <img src="../../_static/SimCenter_BRAILS_logo_solo.png" class="logo" alt="Logo"/>
</a>


  
  



<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/about.html">1. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/acknowledgements.html">2. Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/license.html">3. Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/cite.html">4. How to Cite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/glossary.html">5. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/abbreviations.html">6. Abbreviations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/releasenotes.html">7. Release Notes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">1. Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="userGuide.html">2. User Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">2.1. Data Preperation for Training and Inference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#training-data">2.1.1. Training Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-suitable-for-inference">2.1.2. Data Suitable for Inference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="modules/modules.html">2.2. Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="workflow.html">2.3. Workflow</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">3. Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">4. Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="bugs.html">5. Bugs &amp; Feature Requests</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../technical_manual/theory.html">1. Theory and Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../technical_manual/vnv.html">2. Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../technical_manual/understand.html">3. Generalization</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">BRAILS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="userGuide.html"><span class="section-number">2. </span>User Guide</a> &raquo;</li>
        
      <li><span class="section-number">2.1. </span>Data Preperation for Training and Inference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/common/user_manual/dataPrep.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="data-preperation-for-training-and-inference">
<span id="lbl-dataprep"></span><h1><span class="section-number">2.1. </span>Data Preperation for Training and Inference<a class="headerlink" href="#data-preperation-for-training-and-inference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="training-data">
<h2><span class="section-number">2.1.1. </span>Training Data<a class="headerlink" href="#training-data" title="Permalink to this headline">¶</a></h2>
<p>The accuracy of a deep learning model is highly dependent on the dataset used to train it. If the training data contains minimal noise and includes a sufficient level of features necessary for model development, high model prediction accuracies are attainable. In image-based applications, data noise can be in many forms, such as incorrect image labels and imagery that lack the features sought by the model (e.g., occluded features, etc.).</p>
<p>In developing the pre-trained models in BRAILS, training images are subjected to rigorous prescreening to ensure sufficient visibility of target buildings in each image in the training set. Without this screening step, creating models with reasonable confidence levels becomes difficult, since the training accuracies being inversely proportional to the extent of noise. <a class="reference internal" href="#noiseeffect"><span class="std std-numref">Table 2.1.1</span></a> shows an example of one of many of our observations of this condition throughout SimCenter’s model development efforts. The confusion matrices in both figures are for models generated on identical model architecture and hyperparameters. The first confusion matrix in <a class="reference internal" href="#noiseeffect"><span class="std std-numref">Table 2.1.1</span></a> is for the model trained on a dataset of images that contained 20% noisy data, while the second matrix is for the model trained on a  dataset of images that were fully prescreened before model training. After 100 epochs, the former model attains an F1-score of 47.43%; the latter achieves an F1-score of 79.15% for the same validation set.</p>
<span id="noiseeffect"></span><table class="docutils align-default" id="id2">
<caption><span class="caption-number">Table 2.1.1 </span><span class="caption-text">Effect of high noise levels on training performance</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><div class="figure align-default">
<img alt="../../_images/allDataNotCleaned.png" src="../../_images/allDataNotCleaned.png" />
</div>
</td>
<td><div class="figure align-default">
<img alt="../../_images/allDataCleaned.png" src="../../_images/allDataCleaned.png" />
</div>
</td>
</tr>
</tbody>
</table>
<p><code class="xref std std-numref docutils literal notranslate"><span class="pre">noisyImages</span></code> shows a sample set of images removed after prescreening.</p>
<span id="noisyimages"></span><table class="docutils align-default" id="id3">
<caption><span class="caption-number">Table 2.1.2 </span><span class="caption-text">Sample noisy images removed by the prescreening algorithm</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><div class="figure align-default">
<img alt="../../_images/badImage1.jpg" src="../../_images/badImage1.jpg" />
</div>
</td>
<td><div class="figure align-default">
<img alt="../../_images/badImage2.jpg" src="../../_images/badImage2.jpg" />
</div>
</td>
<td><div class="figure align-default">
<img alt="../../_images/badImage3.jpg" src="../../_images/badImage3.jpg" />
</div>
</td>
<td><div class="figure align-default">
<img alt="../../_images/badImage4.jpg" src="../../_images/badImage4.jpg" />
</div>
</td>
</tr>
<tr class="row-even"><td><div class="figure align-default">
<img alt="../../_images/badImage5.jpg" src="../../_images/badImage5.jpg" />
</div>
</td>
<td><div class="figure align-default">
<img alt="../../_images/badImage6.jpg" src="../../_images/badImage6.jpg" />
</div>
</td>
<td><div class="figure align-default">
<img alt="../../_images/badImage7.jpg" src="../../_images/badImage7.jpg" />
</div>
</td>
<td><div class="figure align-default">
<img alt="../../_images/badImage8.jpg" src="../../_images/badImage8.jpg" />
</div>
</td>
</tr>
</tbody>
</table>
<p><code class="xref std std-numref docutils literal notranslate"><span class="pre">cleanImages</span></code> shows a sample set of images that were deemed suitable for model consumption by the prescreening algorithm.</p>
<span id="id1"></span><table class="docutils align-default" id="id4">
<caption><span class="caption-number">Table 2.1.3 </span><span class="caption-text">Sample clean images retained by prescreening</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><div class="figure align-default">
<img alt="../../_images/cleanImage1.jpg" src="../../_images/cleanImage1.jpg" />
</div>
</td>
<td><div class="figure align-default">
<img alt="../../_images/cleanImage2.jpg" src="../../_images/cleanImage2.jpg" />
</div>
</td>
<td><div class="figure align-default">
<img alt="../../_images/cleanImage3.jpg" src="../../_images/cleanImage3.jpg" />
</div>
</td>
<td><div class="figure align-default">
<img alt="../../_images/cleanImage4.jpg" src="../../_images/cleanImage4.jpg" />
</div>
</td>
</tr>
<tr class="row-even"><td><div class="figure align-default">
<img alt="../../_images/cleanImage5.jpg" src="../../_images/cleanImage5.jpg" />
</div>
</td>
<td><div class="figure align-default">
<img alt="../../_images/cleanImage6.jpg" src="../../_images/cleanImage6.jpg" />
</div>
</td>
<td><div class="figure align-default">
<img alt="../../_images/cleanImage7.jpg" src="../../_images/cleanImage7.jpg" />
</div>
</td>
<td><div class="figure align-default">
<img alt="../../_images/cleanImage8.jpg" src="../../_images/cleanImage8.jpg" />
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="data-suitable-for-inference">
<h2><span class="section-number">2.1.2. </span>Data Suitable for Inference<a class="headerlink" href="#data-suitable-for-inference" title="Permalink to this headline">¶</a></h2>
<p>For obtaining meaningful results from the models bundled with BRAILS, use of images that satisfy the following criteria is essential.</p>
<ol class="arabic simple">
<li><p>Images should contain buildings with little to no obstructions.</p></li>
<li><p>If possible, images should contain a single building only.</p></li>
<li><p>The types of buildings that the predictions are performed on should not be substantially different in appearance from the building inventories used to establish the pretrained models.</p></li>
</ol>
<p>If the images used to predict building attributes meet all three criteria, attribute predictions at the accuracy levels comparable to what is reported for each module will be more achievable.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="modules/modules.html" class="btn btn-neutral float-right" title="2.2. Modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="userGuide.html" class="btn btn-neutral float-left" title="2. User Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, The Regents of the University of California.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>