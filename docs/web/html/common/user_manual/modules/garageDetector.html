

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>2.2.8. Garage Detector &mdash; BRAILS 2.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
        <script src="../../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="2.2.9. Chimney Detector" href="chimneyDetector.html" />
    <link rel="prev" title="2.2.7. Raised Foundation Classification" href="foundationElevationClassifier.html" />
<script src="https://cdn.jsdelivr.net/npm/vega@5.12.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.13.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.8.0"></script>
<style media="screen">.vega-actions a {margin-right: 5px;}</style>
<link href="../../../_static/css/bootstrap.css" rel="stylesheet">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F2F2F2" >
          
<a href="https://simcenter.designsafe-ci.org/" style="margin-bottom: 0px;">
  <img src="../../../_static/SimCenter_logo.png" class="logo" alt="Org-Logo" />
</a>
<hr style="margin: 0px;">

  <a href="../../../index.html">


  <img src="../../../_static/SimCenter_BRAILS_logo_solo.png" class="logo" alt="Logo"/>
</a>


  
  



<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/about.html">1. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/acknowledgements.html">2. Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/license.html">3. Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/cite.html">4. How to Cite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/glossary.html">5. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/abbreviations.html">6. Abbreviations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/releasenotes.html">7. Release Notes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">1. Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../userGuide.html">2. User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../dataPrep.html">2.1. Data Preperation for Training and Inference</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="modules.html">2.2. Modules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="genericImageClassifier.html">2.2.1. Generic Image Classifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="pytorchImageClassifier.html">2.2.2. PyTorch Image Classifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="roofClassifier.html">2.2.3. Roof Shape Classifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="occupancyClassifier.html">2.2.4. Occupancy Classifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="nFloorDetector.html">2.2.5. Number of Floors Detector</a></li>
<li class="toctree-l3"><a class="reference internal" href="yearClassifier.html">2.2.6. Year Built Classification</a></li>
<li class="toctree-l3"><a class="reference internal" href="foundationElevationClassifier.html">2.2.7. Raised Foundation Classification</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">2.2.8. Garage Detector</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#use-the-module">2.2.8.1. Use the module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#garage-detection-using-object-detection">2.2.8.2. Garage detection using Object Detection</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="chimneyDetector.html">2.2.9. Chimney Detector</a></li>
<li class="toctree-l3"><a class="reference internal" href="softstoryClassifier.html">2.2.10. Soft-story Building Classifier</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../workflow.html">2.3. Workflow</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">3. Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">4. Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bugs.html">5. Bugs &amp; Feature Requests</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../technical_manual/theory.html">1. Theory and Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../technical_manual/vnv.html">2. Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../technical_manual/understand.html">3. Generalization</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">BRAILS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../userGuide.html"><span class="section-number">2. </span>User Guide</a> &raquo;</li>
        
          <li><a href="modules.html"><span class="section-number">2.2. </span>Modules</a> &raquo;</li>
        
      <li><span class="section-number">2.2.8. </span>Garage Detector</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/common/user_manual/modules/garageDetector.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="garage-detector">
<span id="lbl-garagedetector"></span><h1><span class="section-number">2.2.8. </span>Garage Detector<a class="headerlink" href="#garage-detector" title="Permalink to this headline">Â¶</a></h1>
<p>The module is bundled with BRAILS, hence its use does not require a separate installation if BRAILS was installed following the <a class="reference internal" href="../installation.html#lbl-install"><span class="std std-ref">Installation</span></a> instructions.</p>
<p>This module enables automated detection of existence of garages or carpool in or next to a building from image input. It takes the directory for an image or folder of images as input and writes the existence of garages in each image into a CSV file. As the module is developed for performing predictions on only street-level building imagery, meaningful model outputs for other classes of images shall not be expected.</p>
<div class="section" id="use-the-module">
<h2><span class="section-number">2.2.8.1. </span>Use the module<a class="headerlink" href="#use-the-module" title="Permalink to this headline">Â¶</a></h2>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># Import the module
from brails.modules import GarageDetector

# Initialize the detector
garageDetector = GarageDetector()

# Define the path of the images:
imDir = &quot;datasets/test/&quot;

# Detect the garages in each image inside imDir and write results in a
# CSV file. The prediction can be also assigned to DataFrame variable:
predictions = garageDetector.predict(imDir)

# Train a new detector using EfficientDet-D7 for 50 epochs
garageDetector.load_train_data(rootDir=&quot;datasets/&quot;)
garageDetector.train(compCoeff=7,numEpochs=50)
</pre></div>
</div>
</div>
<div class="section" id="garage-detection-using-object-detection">
<h2><span class="section-number">2.2.8.2. </span>Garage detection using Object Detection<a class="headerlink" href="#garage-detection-using-object-detection" title="Permalink to this headline">Â¶</a></h2>
<p>The garage detections performed by this module are based on image-based detections of garages visible in street-level images. The current pretrained model that comes with this module was trained on the  <a class="reference external" href="https://arxiv.org/abs/1911.09070">EfficientDet-D4 architecture</a> using a dataset of 1,887 building images retrieved from California, New Jersey, and Louisiana. 80%, 10%, and 10% of the samples in dataset were used for training, validation, and testing, respectively. All three sets were formed to be disjoint from each other to eliminate data contamination. In training the model, to ensure faster model convergence, initial weights of the model were set to model weights of the (pretrained) object detection model that, at the time, achieved state-of-the-art performance on the 2017 COCO Detection set. For this specific implementation, the peak model performance was achieved using the Adam optimizer at a learning rate of 0.0001 (batch size: 2) after 50 epochs. Figure <code class="xref std std-numref docutils literal notranslate"><span class="pre">_fig_GarageDetections</span></code> shows examples of garage detections performed by the model.</p>
<div class="figure align-default" id="fig-garagedetections">
<a class="reference internal image-reference" href="../../../_images/sampleGarageDetections.gif"><img alt="Sample garage detections" src="../../../_images/sampleGarageDetections.gif" style="width: 70%;" /></a>
</div>
<p>Sample garage detections of the pretrained model provided with this module, shown by bright green bounding boxes. The percentage value shown on the top right corner of each bounding box indicates the modelâs confidence level associated with that prediction.</p>
<p>For a given image, the described garage detection model generates the bounding box output for its detections and calculates the confidence level associated with each detection. A post-processor that converts bounding boxes detections into garage existence information is provided as a part of this module. Recognizing an image may contain more than one building at a time, this post-processor is capable of detecting garages for multiple building instances in an input image.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="chimneyDetector.html" class="btn btn-neutral float-right" title="2.2.9. Chimney Detector" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="foundationElevationClassifier.html" class="btn btn-neutral float-left" title="2.2.7. Raised Foundation Classification" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, The Regents of the University of California.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>